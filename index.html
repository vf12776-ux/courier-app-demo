<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫—É—Ä—å–µ—Ä–∞</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Arial, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .header .subtitle {
            opacity: 0.8;
            font-size: 14px;
        }
        
        .orders-container {
            padding: 20px;
        }
        
        .order-card {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }
        
        .order-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .order-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .order-id {
            background: #667eea;
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .order-status {
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .status-new { background: #ffeaa7; color: #e17055; }
        .status-accepted { background: #81ecec; color: #00cec9; }
        .status-delivering { background: #74b9ff; color: #0984e3; }
        .status-delivered { background: #55efc4; color: #00b894; }
        
        .order-details {
            margin-bottom: 15px;
        }
        
        .detail-row {
            display: flex;
            margin-bottom: 8px;
            align-items: center;
        }
        
        .detail-label {
            font-weight: 600;
            color: #2d3436;
            min-width: 120px;
            font-size: 14px;
        }
        
        .detail-value {
            color: #636e72;
            font-size: 14px;
        }
        
        .actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            flex: 1;
            min-width: 120px;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .btn-accept { background: #00b894; color: white; }
        .btn-start { background: #0984e3; color: white; }
        .btn-deliver { background: #e17055; color: white; }
        .btn-complete { background: #00cec9; color: white; }
        
        .btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .photo-section {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px dashed #b2bec3;
        }
        
        .photo-upload {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .photo-preview {
            max-width: 100px;
            max-height: 100px;
            border-radius: 8px;
            border: 2px solid #dfe6e9;
            display: none;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #00b894;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #636e72;
        }
        
        .empty-state img {
            width: 100px;
            opacity: 0.5;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöó –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫—É—Ä—å–µ—Ä–∞</h1>
            <div class="subtitle">–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–∫–æ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</div>
        </div>
        
        <div class="orders-container">
            <div id="ordersList">
                <!-- –ó–∞–∫–∞–∑—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
            </div>
        </div>
    </div>

    <div id="notification" class="notification">
        üì± –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∫–ª–∏–µ–Ω—Ç—É
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–æ–≤
        const orders = [
            {
                id: 1542,
                customer: "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
                phone: "+7 999 123-45-67",
                address: "—É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 25, –∫–≤. 14",
                items: "–ü–∏—Ü—Ü–∞ –ü–µ–ø–ø–µ—Ä–æ–Ω–∏, Coca-Cola 1–ª",
                total: 1250,
                status: "new",
                createdAt: "2024-01-15 14:30"
            },
            {
                id: 1543,
                customer: "–ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞", 
                phone: "+7 999 765-43-21",
                address: "–ø—Ä. –ú–∏—Ä–∞, –¥. 10, –æ—Ñ–∏—Å 305",
                items: "–†–æ–ª–ª—ã –§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è x2, –°–æ—É—Å —Å–æ–µ–≤—ã–π",
                total: 980,
                status: "accepted",
                createdAt: "2024-01-15 14:45"
            },
            {
                id: 1544,
                customer: "–ê–ª–µ–∫—Å–µ–π –ö–æ–∑–ª–æ–≤",
                phone: "+7 999 555-33-11", 
                address: "—É–ª. –°–∞–¥–æ–≤–∞—è, –¥. 5, –ø–æ–¥—ä–µ–∑–¥ 2",
                items: "–ë—É—Ä–≥–µ—Ä –ß–∏–∑–±—É—Ä–≥–µ—Ä, –ö–∞—Ä—Ç–æ—Ñ–µ–ª—å —Ñ—Ä–∏",
                total: 650,
                status: "delivering",
                createdAt: "2024-01-15 15:00"
            }
        ];

        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const ordersList = document.getElementById('ordersList');
        const notification = document.getElementById('notification');

        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message) {
            notification.textContent = message;
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // –§—É–Ω–∫—Ü–∏—è –∏–º–∏—Ç–∞—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ SMS
        function sendSMS(phone, message) {
            console.log(`üì± SMS –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ ${phone}: ${message}`);
            showNotification(`üì± SMS –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: ${message}`);
        }

        // –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ
        function handlePhotoUpload(orderId, input) {
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = input.parentElement.querySelector('.photo-preview');
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                    
                    // –ò–º–∏—Ç–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ç–æ–æ—Ç—á–µ—Ç–∞
                    setTimeout(() => {
                        showNotification('üì∏ –§–æ—Ç–æ–æ—Ç—á–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –∫–ª–∏–µ–Ω—Ç—É');
                        updateOrderStatus(orderId, 'delivered');
                    }, 1000);
                }
                reader.readAsDataURL(file);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞
        function updateOrderStatus(orderId, newStatus) {
            const order = orders.find(o => o.id === orderId);
            if (order) {
                const oldStatus = order.status;
                order.status = newStatus;
                
                // –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ —Å–º–µ–Ω–µ —Å—Ç–∞—Ç—É—Å–∞
                switch(newStatus) {
                    case 'accepted':
                        sendSMS(order.phone, `–ö—É—Ä—å–µ—Ä –≤—ã–µ—Ö–∞–ª –∫ –≤–∞–º. –ó–∞–∫–∞–∑ ‚Ññ${orderId}`);
                        break;
                    case 'delivering':
                        sendSMS(order.phone, `–ö—É—Ä—å–µ—Ä —É–∂–µ –≤ –ø—É—Ç–∏ –∫ –≤–∞–º!`);
                        break;
                    case 'delivered':
                        sendSMS(order.phone, `–ó–∞–∫–∞–∑ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω! –°–ø–∞—Å–∏–±–æ –∑–∞ –≤—ã–±–æ—Ä –Ω–∞—à–µ–π –¥–æ—Å—Ç–∞–≤–∫–∏!`);
                        break;
                }
                
                renderOrders();
            }
        }

        // –§—É–Ω–∫—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∞ –∑–∞–∫–∞–∑–æ–≤
        function renderOrders() {
            if (orders.length === 0) {
                ordersList.innerHTML = `
                    <div class="empty-state">
                        <div>üì≠</div>
                        <h3>–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤</h3>
                        <p>–ù–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</p>
                    </div>
                `;
                return;
            }

            ordersList.innerHTML = orders.map(order => {
                const statusText = {
                    'new': '–ù–æ–≤—ã–π',
                    'accepted': '–ü—Ä–∏–Ω—è—Ç', 
                    'delivering': '–í –ø—É—Ç–∏',
                    'delivered': '–î–æ—Å—Ç–∞–≤–ª–µ–Ω'
                }[order.status];

                const statusClass = {
                    'new': 'status-new',
                    'accepted': 'status-accepted',
                    'delivering': 'status-delivering', 
                    'delivered': 'status-delivered'
                }[order.status];

                return `
                    <div class="order-card">
                        <div class="order-header">
                            <div class="order-id">–ó–∞–∫–∞–∑ #${order.id}</div>
                            <div class="order-status ${statusClass}">${statusText}</div>
                        </div>
                        
                        <div class="order-details">
                            <div class="detail-row">
                                <div class="detail-label">–ö–ª–∏–µ–Ω—Ç:</div>
                                <div class="detail-value">${order.customer}</div>
                            </div>
                            <div class="detail-row">
                                <div class="detail-label">–¢–µ–ª–µ—Ñ–æ–Ω:</div>
                                <div class="detail-value">${order.phone}</div>
                            </div>
                            <div class="detail-row">
                                <div class="detail-label">–ê–¥—Ä–µ—Å:</div>
                                <div class="detail-value">${order.address}</div>
                            </div>
                            <div class="detail-row">
                                <div class="detail-label">–ó–∞–∫–∞–∑:</div>
                                <div class="detail-value">${order.items}</div>
                            </div>
                            <div class="detail-row">
                                <div class="detail-label">–°—É–º–º–∞:</div>
                                <div class="detail-value">${order.total} —Ä—É–±.</div>
                            </div>
                        </div>
                        
                        <div class="actions">
                            ${order.status === 'new' ? 
                                `<button class="btn btn-accept" onclick="updateOrderStatus(${order.id}, 'accepted')">
                                    ‚úÖ –ü—Ä–∏–Ω—è—Ç—å –∑–∞–∫–∞–∑
                                </button>` : ''}
                            
                            ${order.status === 'accepted' ? 
                                `<button class="btn btn-start" onclick="updateOrderStatus(${order.id}, 'delivering')">
                                    üöó –ù–∞—á–∞—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É
                                </button>` : ''}
                            
                            ${order.status === 'delivering' ? 
                                `<button class="btn btn-deliver" onclick="updateOrderStatus(${order.id}, 'delivered')">
                                    üìç –î–æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑
                                </button>` : ''}
                        </div>
                        
                        ${order.status === 'delivering' ? `
                            <div class="photo-section">
                                <div class="detail-label">–§–æ—Ç–æ–æ—Ç—á–µ—Ç:</div>
                                <div class="photo-upload">
                                    <input type="file" accept="image/*" 
                                           onchange="handlePhotoUpload(${order.id}, this)" 
                                           style="flex: 1; padding: 8px; border: 1px dashed #ccc; border-radius: 5px;">
                                    <img class="photo-preview" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä">
                                </div>
                            </div>
                        ` : ''}
                        
                        ${order.status === 'delivered' ? `
                            <div style="text-align: center; padding: 10px; background: #d4edda; border-radius: 5px; color: #155724;">
                                ‚úÖ –ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω
                            </div>
                        ` : ''}
                    </div>
                `;
            }).join('');
        }

        // –ò–º–∏—Ç–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–æ–≤
        function simulateNewOrder() {
            if (Math.random() > 0.7) { // 30% —à–∞–Ω—Å –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞
                const newOrder = {
                    id: Date.now(),
                    customer: ["–û–ª—å–≥–∞ –ù–æ–≤–∏–∫–æ–≤–∞", "–î–º–∏—Ç—Ä–∏–π –í–æ–ª–∫–æ–≤", "–°–≤–µ—Ç–ª–∞–Ω–∞ –ö–æ–≤–∞–ª–µ–≤–∞"][Math.floor(Math.random() * 3)],
                    phone: "+7 999 " + Math.floor(100 + Math.random() * 900) + "-" + Math.floor(10 + Math.random() * 90) + "-" + Math.floor(10 + Math.random() * 90),
                    address: ["—É–ª. –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è, –¥. 15", "–ø—Ä. –ü–æ–±–µ–¥—ã, –¥. 33", "—É–ª. –ú–æ–ª–æ–¥–µ–∂–Ω–∞—è, –¥. 8"][Math.floor(Math.random() * 3)],
                    items: ["–°—É—à–∏ —Å–µ—Ç", "–ü–∏—Ü—Ü–∞ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞", "–ë—É—Ä–≥–µ—Ä —Å –±–µ–∫–æ–Ω–æ–º"][Math.floor(Math.random() * 3)],
                    total: Math.floor(500 + Math.random() * 1000),
                    status: "new",
                    createdAt: new Date().toISOString()
                };
                orders.unshift(newOrder);
                renderOrders();
                showNotification('üÜï –ü–æ—Å—Ç—É–ø–∏–ª –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑!');
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        renderOrders();

        // –ò–º–∏—Ç–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
        setInterval(simulateNewOrder, 10000); // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥

        // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        setTimeout(() => {
            showNotification('–°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –∑–∞–ø—É—â–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ');
        }, 1000);
    </script>
</body>
</html>
